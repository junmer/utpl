define(function(){var e=function(){},n={},t=Array.prototype,r=t.slice,a=t.forEach,u=Object.keys,c=e.each=e.forEach=function(t,r,u){if(null!=t)if(a&&t.forEach===a)t.forEach(r,u);else if(t.length===+t.length){for(var c=0,o=t.length;o>c;c++)if(r.call(u,t[c],c,t)===n)return}else for(var i=e.keys(t),c=0,o=i.length;o>c;c++)if(r.call(u,t[i[c]],i[c],t)===n)return};e.keys=u||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)e.has(n,r)&&t.push(r);return t},e.defaults=function(e){return c(r.call(arguments,1),function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])}),e};var o={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},i={escape:new RegExp("["+e.keys(o.escape).join("")+"]","g")};e.each(["escape"],function(n){e[n]=function(e){return null==e?"":(""+e).replace(i[n],function(e){return o[n][e]})}}),e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var l=/(.)^/,f={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},s=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(n,t,r){var a;r=e.defaults({},r,e.templateSettings);var u=new RegExp([(r.escape||l).source,(r.interpolate||l).source,(r.evaluate||l).source].join("|")+"|$","g"),c=0,o="__p+='";n.replace(u,function(e,t,r,a,u){return o+=n.slice(c,u).replace(s,function(e){return"\\"+f[e]}),t&&(o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),c=u+e.length,e}),o+="';\n",r.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(r.variable||"obj","_",o)}catch(i){throw i.source=o,i}if(t)return a(t,e);var p=function(n){return a.call(this,n,e)};return p.source="function("+(r.variable||"obj")+"){\n"+o+"}",p},e});